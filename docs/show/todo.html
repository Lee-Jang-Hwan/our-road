<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>OurRoad TODO - ê°œë°œ ê°€ì´ë“œ</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/mermaid@10/dist/mermaid.min.js"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-typescript.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-bash.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-sql.min.js"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            devA: '#3B82F6',
            devB: '#10B981',
            devC: '#F59E0B',
          }
        }
      }
    }
  </script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;600;700&display=swap');
    @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500&display=swap');
    body { font-family: 'Noto Sans KR', sans-serif; }
    code, pre { font-family: 'JetBrains Mono', monospace; }
    .gradient-a { background: linear-gradient(135deg, #3B82F6 0%, #1D4ED8 100%); }
    .gradient-b { background: linear-gradient(135deg, #10B981 0%, #059669 100%); }
    .gradient-c { background: linear-gradient(135deg, #F59E0B 0%, #D97706 100%); }
    .card-shadow { box-shadow: 0 10px 40px rgba(0,0,0,0.1); }
    .tooltip-content { display: none; }
    .tooltip:hover .tooltip-content { display: block; }
    .task-card { transition: all 0.3s ease; }
    .task-card:hover { transform: translateY(-2px); box-shadow: 0 8px 25px rgba(0,0,0,0.15); }
    .code-hint { background: #1e1e1e; border-radius: 8px; padding: 16px; margin-top: 12px; }
    .beginner-tip {
      background: linear-gradient(135deg, #FEF3C7 0%, #FDE68A 100%);
      border-left: 4px solid #F59E0B;
    }
    .nav-tab { transition: all 0.2s ease; }
    .nav-tab:hover { background: rgba(59, 130, 246, 0.1); }
    .nav-tab.active { background: #3B82F6; color: white; }
    details summary { cursor: pointer; }
    details summary::-webkit-details-marker { display: none; }
    .phase-connector {
      position: absolute;
      left: 24px;
      top: 48px;
      bottom: 0;
      width: 2px;
      background: linear-gradient(to bottom, #E5E7EB, transparent);
    }
  </style>
</head>
<body class="bg-gray-50">
  <!-- Navigation -->
  <nav class="fixed top-0 left-0 right-0 bg-white/95 backdrop-blur-sm shadow-sm z-50">
    <div class="max-w-7xl mx-auto px-4 py-3">
      <div class="flex items-center justify-between">
        <div class="flex items-center gap-4">
          <h1 class="text-xl font-bold text-gray-800">OurRoad TODO</h1>
          <span class="text-xs px-2 py-1 bg-blue-100 text-blue-700 rounded-full">ì´ˆë³´ì ê°€ì´ë“œ</span>
        </div>
        <div class="flex gap-2">
          <button onclick="showSection('all')" class="nav-tab active px-3 py-1.5 rounded-lg text-sm font-medium" id="tab-all">ì „ì²´</button>
          <button onclick="showSection('devA')" class="nav-tab px-3 py-1.5 rounded-lg text-sm font-medium text-devA" id="tab-devA">Dev A</button>
          <button onclick="showSection('devB')" class="nav-tab px-3 py-1.5 rounded-lg text-sm font-medium text-devB" id="tab-devB">Dev B</button>
          <button onclick="showSection('devC')" class="nav-tab px-3 py-1.5 rounded-lg text-sm font-medium text-devC" id="tab-devC">Dev C</button>
        </div>
      </div>
    </div>
  </nav>

  <!-- Hero -->
  <header class="bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 text-white pt-20 pb-12">
    <div class="max-w-7xl mx-auto px-4">
      <div class="text-center mb-8">
        <h1 class="text-3xl md:text-4xl font-bold mb-3">ê°œë°œ TODO ê°€ì´ë“œ</h1>
        <p class="text-gray-400">ì´ˆë³´ ê°œë°œìë„ ì´í•´í•  ìˆ˜ ìˆëŠ” ìƒì„¸ êµ¬í˜„ ê°€ì´ë“œ</p>
      </div>

      <!-- Team Cards -->
      <div class="grid md:grid-cols-3 gap-4 mt-8">
        <div class="gradient-a rounded-xl p-5 text-center">
          <div class="w-14 h-14 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-3">
            <span class="text-2xl">ğŸ‘¨â€ğŸ¨</span>
          </div>
          <h3 class="font-bold text-lg">Dev A</h3>
          <p class="text-sm text-blue-100">í”„ë¡ íŠ¸ì—”ë“œ (UI/UX)</p>
          <p class="text-xs text-blue-200 mt-2">components/, app/plan/, app/my/</p>
        </div>
        <div class="gradient-b rounded-xl p-5 text-center">
          <div class="w-14 h-14 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-3">
            <span class="text-2xl">ğŸ‘¨â€ğŸ’»</span>
          </div>
          <h3 class="font-bold text-lg">Dev B</h3>
          <p class="text-sm text-green-100">ë°±ì—”ë“œ (API/DB)</p>
          <p class="text-xs text-green-200 mt-2">actions/, lib/optimize/, supabase/</p>
        </div>
        <div class="gradient-c rounded-xl p-5 text-center">
          <div class="w-14 h-14 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-3">
            <span class="text-2xl">ğŸ‘¨â€ğŸ”§</span>
          </div>
          <h3 class="font-bold text-lg">Dev C</h3>
          <p class="text-sm text-amber-100">ì§€ë„/API + ë§ˆì¼€íŒ…</p>
          <p class="text-xs text-amber-200 mt-2">lib/kakao/, components/map/, marketing/</p>
        </div>
      </div>
    </div>
  </header>

  <main class="max-w-7xl mx-auto px-4 py-8">

    <!-- Git ì›Œí¬í”Œë¡œìš° -->
    <section class="mb-12 bg-white rounded-2xl p-6 card-shadow">
      <h2 class="text-xl font-bold text-gray-800 mb-4 flex items-center gap-2">
        <span class="text-2xl">ğŸ”€</span> Git ì›Œí¬í”Œë¡œìš° (í•„ë…!)
      </h2>

      <div class="beginner-tip rounded-lg p-4 mb-6">
        <h4 class="font-bold text-amber-800 mb-2">ğŸ’¡ ì´ˆë³´ìë¥¼ ìœ„í•œ Git ì„¤ëª…</h4>
        <p class="text-sm text-amber-900">
          Gitì€ ì½”ë“œ ë²„ì „ ê´€ë¦¬ ë„êµ¬ì…ë‹ˆë‹¤. ì—¬ëŸ¬ ëª…ì´ ë™ì‹œì— ì‘ì—…í•  ë•Œ ì„œë¡œì˜ ì½”ë“œê°€ ì„ì´ì§€ ì•Šë„ë¡
          <strong>"ë¸Œëœì¹˜"</strong>ë¼ëŠ” ë…ë¦½ì ì¸ ì‘ì—… ê³µê°„ì„ ë§Œë“¤ì–´ ì‚¬ìš©í•©ë‹ˆë‹¤.
        </p>
      </div>

      <div class="mermaid mb-6">
gitGraph
  commit id: "ì´ˆê¸° ì„¤ì •"
  branch develop
  checkout develop
  commit id: "ê°œë°œ ì‹œì‘"
  branch feat/ui-landing
  checkout feat/ui-landing
  commit id: "Dev A ì‘ì—…"
  checkout develop
  branch feat/api-trips
  checkout feat/api-trips
  commit id: "Dev B ì‘ì—…"
  checkout develop
  branch feat/map-kakao
  checkout feat/map-kakao
  commit id: "Dev C ì‘ì—…"
  checkout develop
  merge feat/ui-landing
  merge feat/api-trips
  merge feat/map-kakao
  checkout main
  merge develop id: "ë°°í¬"
      </div>

      <div class="grid md:grid-cols-2 gap-4">
        <div class="bg-gray-50 rounded-lg p-4">
          <h4 class="font-semibold text-gray-800 mb-3">ğŸ“Œ ë¸Œëœì¹˜ ëª…ëª… ê·œì¹™</h4>
          <div class="space-y-2 text-sm">
            <div class="flex items-center gap-2">
              <span class="w-3 h-3 rounded-full bg-devA"></span>
              <code class="bg-blue-50 px-2 py-0.5 rounded text-devA">feat/ui-*</code>
              <span class="text-gray-500">â†’ Dev A (UI ì‘ì—…)</span>
            </div>
            <div class="flex items-center gap-2">
              <span class="w-3 h-3 rounded-full bg-devB"></span>
              <code class="bg-green-50 px-2 py-0.5 rounded text-devB">feat/api-*</code>
              <span class="text-gray-500">â†’ Dev B (API ì‘ì—…)</span>
            </div>
            <div class="flex items-center gap-2">
              <span class="w-3 h-3 rounded-full bg-devC"></span>
              <code class="bg-amber-50 px-2 py-0.5 rounded text-devC">feat/map-*</code>
              <span class="text-gray-500">â†’ Dev C (ì§€ë„ ì‘ì—…)</span>
            </div>
          </div>
        </div>

        <div class="bg-gray-50 rounded-lg p-4">
          <h4 class="font-semibold text-gray-800 mb-3">âš ï¸ í•„ìˆ˜ ê·œì¹™</h4>
          <ul class="space-y-2 text-sm text-gray-600">
            <li class="flex items-start gap-2">
              <span class="text-red-500">âŒ</span>
              <span><code>main</code>, <code>develop</code>ì— ì§ì ‘ í‘¸ì‹œ ê¸ˆì§€</span>
            </li>
            <li class="flex items-start gap-2">
              <span class="text-green-500">âœ…</span>
              <span>ë°˜ë“œì‹œ PR(Pull Request) ìƒì„± í›„ ë¨¸ì§€</span>
            </li>
            <li class="flex items-start gap-2">
              <span class="text-green-500">âœ…</span>
              <span>ë§¤ì¼ <code>develop</code>ì—ì„œ rebaseí•˜ê¸°</span>
            </li>
          </ul>
        </div>
      </div>

      <!-- Git ëª…ë ¹ì–´ -->
      <details class="mt-4">
        <summary class="flex items-center gap-2 text-sm font-medium text-gray-700 hover:text-gray-900">
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
          </svg>
          ìì£¼ ì“°ëŠ” Git ëª…ë ¹ì–´ ë³´ê¸°
        </summary>
        <div class="code-hint mt-3">
          <pre class="text-sm"><code class="language-bash"># 1. ìƒˆ ë¸Œëœì¹˜ ë§Œë“¤ê³  ì´ë™í•˜ê¸°
git checkout -b feat/ui-landing-page

# 2. ë³€ê²½ì‚¬í•­ ì €ì¥í•˜ê¸°
git add .
git commit -m "feat: ëœë”© í˜ì´ì§€ UI êµ¬í˜„"

# 3. ì›ê²© ì €ì¥ì†Œì— í‘¸ì‹œí•˜ê¸°
git push origin feat/ui-landing-page

# 4. develop ë¸Œëœì¹˜ì˜ ìµœì‹  ë³€ê²½ì‚¬í•­ ê°€ì ¸ì˜¤ê¸° (ë§¤ì¼!)
git checkout develop
git pull origin develop
git checkout feat/ui-landing-page
git rebase develop

# 5. ì¶©ëŒ í•´ê²° í›„
git add .
git rebase --continue</code></pre>
        </div>
      </details>
    </section>

    <!-- ==================== Dev A Section ==================== -->
    <section id="section-devA" class="dev-section mb-12">
      <div class="flex items-center gap-3 mb-6">
        <div class="w-12 h-12 gradient-a rounded-xl flex items-center justify-center">
          <span class="text-white text-xl">A</span>
        </div>
        <div>
          <h2 class="text-2xl font-bold text-gray-800">Dev A: í”„ë¡ íŠ¸ì—”ë“œ (UI/UX)</h2>
          <p class="text-gray-500 text-sm">ì‚¬ìš©ìê°€ ë³´ëŠ” í™”ë©´ê³¼ ìƒí˜¸ì‘ìš©ì„ ë‹´ë‹¹í•©ë‹ˆë‹¤</p>
        </div>
      </div>

      <!-- Phase 1: ê¸°ë³¸ UI -->
      <div class="bg-white rounded-2xl p-6 card-shadow mb-6">
        <div class="flex items-center justify-between mb-4">
          <h3 class="font-bold text-lg text-devA flex items-center gap-2">
            <span class="w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center text-sm">1</span>
            Phase 1: ê¸°ë³¸ UI êµ¬ì¡°
          </h3>
          <span class="text-xs px-3 py-1 bg-blue-50 text-devA rounded-full">feat/ui-base-components</span>
        </div>

        <!-- shadcn ì„¤ì¹˜ -->
        <div class="task-card bg-gray-50 rounded-xl p-5 mb-4">
          <div class="flex items-start gap-3">
            <input type="checkbox" class="mt-1 w-5 h-5 rounded border-gray-300">
            <div class="flex-1">
              <h4 class="font-semibold text-gray-800">shadcn/ui ì»´í¬ë„ŒíŠ¸ ì„¤ì¹˜</h4>
              <p class="text-sm text-gray-500 mt-1">UI ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ í•„ìš”í•œ ì»´í¬ë„ŒíŠ¸ë“¤ì„ ì„¤ì¹˜í•©ë‹ˆë‹¤</p>

              <div class="beginner-tip rounded-lg p-3 mt-3">
                <p class="text-xs text-amber-800">
                  <strong>ğŸ’¡ shadcn/uië€?</strong>
                  ë¯¸ë¦¬ ë§Œë“¤ì–´ì§„ ì˜ˆìœ UI ì»´í¬ë„ŒíŠ¸ ëª¨ìŒì…ë‹ˆë‹¤. ë²„íŠ¼, ì…ë ¥ì°½, ë‹¬ë ¥ ë“±ì„ ì§ì ‘ ë§Œë“¤ í•„ìš” ì—†ì´
                  ëª…ë ¹ì–´ í•˜ë‚˜ë¡œ ì„¤ì¹˜í•´ì„œ ë°”ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆì–´ìš”!
                </p>
              </div>

              <div class="code-hint">
                <pre class="text-sm"><code class="language-bash"># í„°ë¯¸ë„ì—ì„œ í”„ë¡œì íŠ¸ í´ë”ë¡œ ì´ë™ í›„ ì‹¤í–‰
# ê° ì»´í¬ë„ŒíŠ¸ë¥¼ í•˜ë‚˜ì”© ì„¤ì¹˜í•©ë‹ˆë‹¤

pnpx shadcn@latest add calendar    # ğŸ“… ë‹¬ë ¥ (ì—¬í–‰ ê¸°ê°„ ì„ íƒìš©)
pnpx shadcn@latest add popover     # ğŸ’¬ íŒì˜¤ë²„ (íˆ´íŒ, ë“œë¡­ë‹¤ìš´ìš©)
pnpx shadcn@latest add command     # ğŸ” ì»¤ë§¨ë“œ (ê²€ìƒ‰ ìë™ì™„ì„±ìš©)
pnpx shadcn@latest add card        # ğŸƒ ì¹´ë“œ (ì¥ì†Œ, ì¼ì • ì¹´ë“œìš©)
pnpx shadcn@latest add tabs        # ğŸ“‘ íƒ­ (í˜ì´ì§€ ë‚´ íƒ­ ì „í™˜ìš©)
pnpx shadcn@latest add badge       # ğŸ·ï¸ ë±ƒì§€ (ì¹´í…Œê³ ë¦¬ íƒœê·¸ìš©)
pnpx shadcn@latest add skeleton    # ğŸ’€ ìŠ¤ì¼ˆë ˆí†¤ (ë¡œë”© ìƒíƒœìš©)
pnpx shadcn@latest add select      # â–¼ ì…€ë ‰íŠ¸ (ë“œë¡­ë‹¤ìš´ ì„ íƒìš©)
pnpx shadcn@latest add toast       # ğŸ”” í† ìŠ¤íŠ¸ (ì•Œë¦¼ ë©”ì‹œì§€ìš©)</code></pre>
              </div>
            </div>
          </div>
        </div>

        <!-- date-range-picker -->
        <div class="task-card bg-gray-50 rounded-xl p-5 mb-4">
          <div class="flex items-start gap-3">
            <input type="checkbox" class="mt-1 w-5 h-5 rounded border-gray-300">
            <div class="flex-1">
              <h4 class="font-semibold text-gray-800">components/trip/date-range-picker.tsx</h4>
              <p class="text-sm text-gray-500 mt-1">ì—¬í–‰ ì‹œì‘ì¼ê³¼ ì¢…ë£Œì¼ì„ ì„ íƒí•˜ëŠ” ë‹¬ë ¥ ì»´í¬ë„ŒíŠ¸</p>

              <div class="flex flex-wrap gap-2 mt-3">
                <span class="text-xs px-2 py-1 bg-purple-100 text-purple-700 rounded">ì‚¬ìš©: Calendar</span>
                <span class="text-xs px-2 py-1 bg-purple-100 text-purple-700 rounded">ì‚¬ìš©: Popover</span>
                <span class="text-xs px-2 py-1 bg-green-100 text-green-700 rounded">ë¼ì´ë¸ŒëŸ¬ë¦¬: date-fns</span>
              </div>

              <details class="mt-3">
                <summary class="text-sm text-devA font-medium cursor-pointer">ğŸ“ êµ¬í˜„ ê°€ì´ë“œ ë³´ê¸°</summary>
                <div class="code-hint mt-2">
                  <pre class="text-sm"><code class="language-typescript">// components/trip/date-range-picker.tsx
"use client";

import { useState } from "react";
import { format } from "date-fns";
import { ko } from "date-fns/locale";
import { Calendar } from "@/components/ui/calendar";
import { Popover, PopoverContent, PopoverTrigger } from "@/components/ui/popover";
import { Button } from "@/components/ui/button";
import { CalendarIcon } from "lucide-react";
import { DateRange } from "react-day-picker";

// Props íƒ€ì… ì •ì˜ - ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì „ë‹¬ë°›ì„ ê°’ë“¤
interface DateRangePickerProps {
  value?: DateRange;           // í˜„ì¬ ì„ íƒëœ ë‚ ì§œ ë²”ìœ„
  onChange: (range: DateRange | undefined) => void;  // ë‚ ì§œ ë³€ê²½ ì‹œ í˜¸ì¶œë  í•¨ìˆ˜
}

export function DateRangePicker({ value, onChange }: DateRangePickerProps) {
  // Popover ì—´ë¦¼/ë‹«í˜ ìƒíƒœ ê´€ë¦¬
  const [open, setOpen] = useState(false);

  return (
    &lt;Popover open={open} onOpenChange={setOpen}&gt;
      {/* ë²„íŠ¼ í´ë¦­ ì‹œ ë‹¬ë ¥ íŒì—… ì—´ë¦¼ */}
      &lt;PopoverTrigger asChild&gt;
        &lt;Button variant="outline" className="w-full justify-start text-left"&gt;
          &lt;CalendarIcon className="mr-2 h-4 w-4" /&gt;
          {value?.from ? (
            value.to ? (
              // ì‹œì‘ì¼ê³¼ ì¢…ë£Œì¼ ëª¨ë‘ ì„ íƒëœ ê²½ìš°
              &lt;&gt;
                {format(value.from, "PPP", { locale: ko })} -{" "}
                {format(value.to, "PPP", { locale: ko })}
              &lt;/&gt;
            ) : (
              // ì‹œì‘ì¼ë§Œ ì„ íƒëœ ê²½ìš°
              format(value.from, "PPP", { locale: ko })
            )
          ) : (
            // ì•„ë¬´ê²ƒë„ ì„ íƒ ì•ˆ ëœ ê²½ìš°
            "ì—¬í–‰ ê¸°ê°„ì„ ì„ íƒí•˜ì„¸ìš”"
          )}
        &lt;/Button&gt;
      &lt;/PopoverTrigger&gt;

      {/* íŒì—… ë‚´ìš© - ë‹¬ë ¥ */}
      &lt;PopoverContent className="w-auto p-0" align="start"&gt;
        &lt;Calendar
          mode="range"              {/* ë²”ìœ„ ì„ íƒ ëª¨ë“œ */}
          selected={value}          {/* í˜„ì¬ ì„ íƒëœ ê°’ */}
          onSelect={onChange}       {/* ì„ íƒ ë³€ê²½ ì‹œ ì½œë°± */}
          numberOfMonths={2}        {/* 2ê°œì›” í‘œì‹œ */}
          locale={ko}               {/* í•œêµ­ì–´ */}
          disabled={{ before: new Date() }}  {/* ì˜¤ëŠ˜ ì´ì „ ë‚ ì§œ ë¹„í™œì„±í™” */}
        /&gt;
      &lt;/PopoverContent&gt;
    &lt;/Popover&gt;
  );
}</code></pre>
                </div>
              </details>
            </div>
          </div>
        </div>

        <!-- location-input -->
        <div class="task-card bg-gray-50 rounded-xl p-5 mb-4">
          <div class="flex items-start gap-3">
            <input type="checkbox" class="mt-1 w-5 h-5 rounded border-gray-300">
            <div class="flex-1">
              <h4 class="font-semibold text-gray-800">components/trip/location-input.tsx</h4>
              <p class="text-sm text-gray-500 mt-1">ì¶œë°œì§€/ë„ì°©ì§€ë¥¼ ê²€ìƒ‰í•˜ê³  ì„ íƒí•˜ëŠ” ìë™ì™„ì„± ì…ë ¥ì°½</p>

              <div class="beginner-tip rounded-lg p-3 mt-3">
                <p class="text-xs text-amber-800">
                  <strong>ğŸ’¡ ìë™ì™„ì„±(Autocomplete)ì´ë€?</strong>
                  ì‚¬ìš©ìê°€ "ì„œìš¸"ì´ë¼ê³  íƒ€ì´í•‘í•˜ë©´ "ì„œìš¸ì—­", "ì„œìš¸ì‹œì²­" ë“± ê´€ë ¨ ì¥ì†Œë¥¼
                  ì‹¤ì‹œê°„ìœ¼ë¡œ ë³´ì—¬ì£¼ëŠ” ê¸°ëŠ¥ì…ë‹ˆë‹¤. Dev Cê°€ ë§Œë“  Kakao ê²€ìƒ‰ APIë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.
                </p>
              </div>

              <details class="mt-3">
                <summary class="text-sm text-devA font-medium cursor-pointer">ğŸ“ êµ¬í˜„ ê°€ì´ë“œ ë³´ê¸°</summary>
                <div class="code-hint mt-2">
                  <pre class="text-sm"><code class="language-typescript">// components/trip/location-input.tsx
"use client";

import { useState, useEffect } from "react";
import { Command, CommandInput, CommandList, CommandItem } from "@/components/ui/command";
import { Popover, PopoverContent, PopoverTrigger } from "@/components/ui/popover";
import { Button } from "@/components/ui/button";
import { MapPin, Loader2 } from "lucide-react";
import { searchPlaces } from "@/actions/places/search-places"; // Dev Cê°€ ë§Œë“¤ ì•¡ì…˜

// ì¥ì†Œ ë°ì´í„° íƒ€ì…
interface Place {
  id: string;
  name: string;
  address: string;
  lat: number;
  lng: number;
}

interface LocationInputProps {
  label: string;           // "ì¶œë°œì§€" ë˜ëŠ” "ë„ì°©ì§€"
  value?: Place;           // ì„ íƒëœ ì¥ì†Œ
  onChange: (place: Place) => void;
}

export function LocationInput({ label, value, onChange }: LocationInputProps) {
  const [open, setOpen] = useState(false);
  const [query, setQuery] = useState("");           // ê²€ìƒ‰ì–´
  const [results, setResults] = useState&lt;Place[]&gt;([]);  // ê²€ìƒ‰ ê²°ê³¼
  const [loading, setLoading] = useState(false);    // ë¡œë”© ìƒíƒœ

  // ğŸ” ê²€ìƒ‰ì–´ê°€ ë°”ë€” ë•Œë§ˆë‹¤ API í˜¸ì¶œ (debounce ì ìš©)
  useEffect(() => {
    // ê²€ìƒ‰ì–´ê°€ 2ê¸€ì ë¯¸ë§Œì´ë©´ ê²€ìƒ‰ ì•ˆ í•¨
    if (query.length < 2) {
      setResults([]);
      return;
    }

    // 300ms í›„ì— ê²€ìƒ‰ ì‹¤í–‰ (íƒ€ì´í•‘ ì¤‘ì—ëŠ” ê¸°ë‹¤ë¦¼)
    const timer = setTimeout(async () => {
      setLoading(true);
      try {
        const data = await searchPlaces(query);
        setResults(data);
      } catch (error) {
        console.error("ê²€ìƒ‰ ì‹¤íŒ¨:", error);
      } finally {
        setLoading(false);
      }
    }, 300);  // ğŸ’¡ debounce: 300ms

    // cleanup: ìƒˆ ê²€ìƒ‰ì–´ ì…ë ¥ ì‹œ ì´ì „ íƒ€ì´ë¨¸ ì·¨ì†Œ
    return () => clearTimeout(timer);
  }, [query]);

  return (
    &lt;div className="space-y-2"&gt;
      &lt;label className="text-sm font-medium text-gray-700"&gt;{label}&lt;/label&gt;
      &lt;Popover open={open} onOpenChange={setOpen}&gt;
        &lt;PopoverTrigger asChild&gt;
          &lt;Button variant="outline" className="w-full justify-start"&gt;
            &lt;MapPin className="mr-2 h-4 w-4 text-gray-400" /&gt;
            {value ? value.name : `${label}ì„(ë¥¼) ê²€ìƒ‰í•˜ì„¸ìš”`}
          &lt;/Button&gt;
        &lt;/PopoverTrigger&gt;
        &lt;PopoverContent className="w-80 p-0"&gt;
          &lt;Command&gt;
            &lt;CommandInput
              placeholder="ì¥ì†Œëª… ë˜ëŠ” ì£¼ì†Œ ê²€ìƒ‰..."
              value={query}
              onValueChange={setQuery}
            /&gt;
            &lt;CommandList&gt;
              {loading && (
                &lt;div className="p-4 text-center text-gray-500"&gt;
                  &lt;Loader2 className="h-4 w-4 animate-spin mx-auto" /&gt;
                &lt;/div&gt;
              )}
              {results.map((place) => (
                &lt;CommandItem
                  key={place.id}
                  onSelect={() => {
                    onChange(place);
                    setOpen(false);
                  }}
                &gt;
                  &lt;MapPin className="mr-2 h-4 w-4" /&gt;
                  &lt;div&gt;
                    &lt;p className="font-medium"&gt;{place.name}&lt;/p&gt;
                    &lt;p className="text-xs text-gray-500"&gt;{place.address}&lt;/p&gt;
                  &lt;/div&gt;
                &lt;/CommandItem&gt;
              ))}
            &lt;/CommandList&gt;
          &lt;/Command&gt;
        &lt;/PopoverContent&gt;
      &lt;/Popover&gt;
    &lt;/div&gt;
  );
}</code></pre>
                </div>
              </details>
            </div>
          </div>
        </div>

        <!-- transport-selector -->
        <div class="task-card bg-gray-50 rounded-xl p-5">
          <div class="flex items-start gap-3">
            <input type="checkbox" class="mt-1 w-5 h-5 rounded border-gray-300">
            <div class="flex-1">
              <h4 class="font-semibold text-gray-800">components/trip/transport-selector.tsx</h4>
              <p class="text-sm text-gray-500 mt-1">ì´ë™ìˆ˜ë‹¨(ëŒ€ì¤‘êµí†µ/ì°¨ëŸ‰)ì„ ì„ íƒí•˜ëŠ” ì²´í¬ë°•ìŠ¤ ê·¸ë£¹</p>

              <details class="mt-3">
                <summary class="text-sm text-devA font-medium cursor-pointer">ğŸ“ êµ¬í˜„ ê°€ì´ë“œ ë³´ê¸°</summary>
                <div class="code-hint mt-2">
                  <pre class="text-sm"><code class="language-typescript">// components/trip/transport-selector.tsx
"use client";

import { Train, Car } from "lucide-react";

// ì´ë™ìˆ˜ë‹¨ íƒ€ì…
type TransportMode = "public" | "car";

interface TransportSelectorProps {
  value: TransportMode[];                    // ì„ íƒëœ ì´ë™ìˆ˜ë‹¨ë“¤
  onChange: (modes: TransportMode[]) => void;
}

export function TransportSelector({ value, onChange }: TransportSelectorProps) {
  // ì²´í¬ë°•ìŠ¤ í† ê¸€ í•¨ìˆ˜
  const toggleMode = (mode: TransportMode) => {
    if (value.includes(mode)) {
      // ì´ë¯¸ ì„ íƒë˜ì–´ ìˆìœ¼ë©´ ì œê±° (ë‹¨, ìµœì†Œ 1ê°œëŠ” ìœ ì§€)
      if (value.length > 1) {
        onChange(value.filter((m) => m !== mode));
      }
    } else {
      // ì„ íƒ ì•ˆ ë˜ì–´ ìˆìœ¼ë©´ ì¶”ê°€
      onChange([...value, mode]);
    }
  };

  return (
    &lt;div className="space-y-2"&gt;
      &lt;label className="text-sm font-medium text-gray-700"&gt;ì´ë™ìˆ˜ë‹¨&lt;/label&gt;
      &lt;div className="flex gap-3"&gt;
        {/* ëŒ€ì¤‘êµí†µ ì˜µì…˜ */}
        &lt;button
          type="button"
          onClick={() => toggleMode("public")}
          className={`flex-1 p-4 rounded-xl border-2 transition-all ${
            value.includes("public")
              ? "border-blue-500 bg-blue-50"
              : "border-gray-200 hover:border-gray-300"
          }`}
        &gt;
          &lt;Train className={`h-6 w-6 mx-auto mb-2 ${
            value.includes("public") ? "text-blue-500" : "text-gray-400"
          }`} /&gt;
          &lt;p className="text-sm font-medium"&gt;ë„ë³´ + ëŒ€ì¤‘êµí†µ&lt;/p&gt;
        &lt;/button&gt;

        {/* ì°¨ëŸ‰ ì˜µì…˜ */}
        &lt;button
          type="button"
          onClick={() => toggleMode("car")}
          className={`flex-1 p-4 rounded-xl border-2 transition-all ${
            value.includes("car")
              ? "border-blue-500 bg-blue-50"
              : "border-gray-200 hover:border-gray-300"
          }`}
        &gt;
          &lt;Car className={`h-6 w-6 mx-auto mb-2 ${
            value.includes("car") ? "text-blue-500" : "text-gray-400"
          }`} /&gt;
          &lt;p className="text-sm font-medium"&gt;ìë™ì°¨&lt;/p&gt;
        &lt;/button&gt;
      &lt;/div&gt;
      &lt;p className="text-xs text-gray-500"&gt;
        * ë³µìˆ˜ ì„ íƒ ì‹œ êµ¬ê°„ë³„ë¡œ ìµœì  ìˆ˜ë‹¨ì„ ìë™ ì¶”ì²œí•©ë‹ˆë‹¤
      &lt;/p&gt;
    &lt;/div&gt;
  );
}</code></pre>
                </div>
              </details>
            </div>
          </div>
        </div>
      </div>

      <!-- Phase 2: ì¥ì†Œ UI -->
      <div class="bg-white rounded-2xl p-6 card-shadow mb-6">
        <div class="flex items-center justify-between mb-4">
          <h3 class="font-bold text-lg text-devA flex items-center gap-2">
            <span class="w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center text-sm">2</span>
            Phase 2: ì¥ì†Œ ê´€ë ¨ UI
          </h3>
          <span class="text-xs px-3 py-1 bg-blue-50 text-devA rounded-full">feat/ui-places</span>
        </div>

        <div class="task-card bg-gray-50 rounded-xl p-5 mb-4">
          <div class="flex items-start gap-3">
            <input type="checkbox" class="mt-1 w-5 h-5 rounded border-gray-300">
            <div class="flex-1">
              <h4 class="font-semibold text-gray-800">components/places/place-card.tsx</h4>
              <p class="text-sm text-gray-500 mt-1">ì¥ì†Œ ì •ë³´ë¥¼ ë³´ì—¬ì£¼ëŠ” ì¹´ë“œ ì»´í¬ë„ŒíŠ¸</p>

              <details class="mt-3">
                <summary class="text-sm text-devA font-medium cursor-pointer">ğŸ“ êµ¬í˜„ ê°€ì´ë“œ ë³´ê¸°</summary>
                <div class="code-hint mt-2">
                  <pre class="text-sm"><code class="language-typescript">// components/places/place-card.tsx
"use client";

import { Card } from "@/components/ui/card";
import { Badge } from "@/components/ui/badge";
import { Button } from "@/components/ui/button";
import { MapPin, Clock, X, GripVertical } from "lucide-react";

interface PlaceCardProps {
  place: {
    id: string;
    name: string;
    address: string;
    category?: string;
    estimatedDuration: number;  // ì²´ë¥˜ì‹œê°„ (ë¶„)
  };
  order: number;                // ë°©ë¬¸ ìˆœì„œ
  onRemove: () => void;         // ì‚­ì œ ë²„íŠ¼ í´ë¦­ ì‹œ
  onDurationChange: (minutes: number) => void;  // ì²´ë¥˜ì‹œê°„ ë³€ê²½ ì‹œ
  isDragging?: boolean;         // ë“œë˜ê·¸ ì¤‘ì¸ì§€ (ë“œë˜ê·¸ì•¤ë“œë¡­ìš©)
}

export function PlaceCard({
  place,
  order,
  onRemove,
  onDurationChange,
  isDragging
}: PlaceCardProps) {
  return (
    &lt;Card className={`p-4 ${isDragging ? "shadow-lg ring-2 ring-blue-500" : ""}`}&gt;
      &lt;div className="flex items-start gap-3"&gt;
        {/* ë“œë˜ê·¸ í•¸ë“¤ - ìˆœì„œ ë³€ê²½ìš© */}
        &lt;div className="cursor-grab active:cursor-grabbing text-gray-400 hover:text-gray-600"&gt;
          &lt;GripVertical className="h-5 w-5" /&gt;
        &lt;/div&gt;

        {/* ìˆœì„œ ë²ˆí˜¸ */}
        &lt;div className="w-8 h-8 rounded-full bg-blue-500 text-white flex items-center justify-center text-sm font-bold"&gt;
          {order}
        &lt;/div&gt;

        {/* ì¥ì†Œ ì •ë³´ */}
        &lt;div className="flex-1 min-w-0"&gt;
          &lt;div className="flex items-start justify-between gap-2"&gt;
            &lt;div&gt;
              &lt;h4 className="font-semibold text-gray-900 truncate"&gt;{place.name}&lt;/h4&gt;
              &lt;p className="text-sm text-gray-500 flex items-center gap-1 mt-0.5"&gt;
                &lt;MapPin className="h-3 w-3" /&gt;
                &lt;span className="truncate"&gt;{place.address}&lt;/span&gt;
              &lt;/p&gt;
            &lt;/div&gt;

            {/* ì‚­ì œ ë²„íŠ¼ */}
            &lt;Button
              variant="ghost"
              size="sm"
              onClick={onRemove}
              className="text-gray-400 hover:text-red-500"
            &gt;
              &lt;X className="h-4 w-4" /&gt;
            &lt;/Button&gt;
          &lt;/div&gt;

          &lt;div className="flex items-center gap-3 mt-3"&gt;
            {/* ì¹´í…Œê³ ë¦¬ ë±ƒì§€ */}
            {place.category && (
              &lt;Badge variant="secondary"&gt;{place.category}&lt;/Badge&gt;
            )}

            {/* ì²´ë¥˜ì‹œê°„ ì…ë ¥ */}
            &lt;div className="flex items-center gap-2 text-sm text-gray-600"&gt;
              &lt;Clock className="h-4 w-4" /&gt;
              &lt;select
                value={place.estimatedDuration}
                onChange={(e) => onDurationChange(Number(e.target.value))}
                className="bg-transparent border-none text-sm font-medium focus:outline-none"
              &gt;
                &lt;option value={30}&gt;30ë¶„&lt;/option&gt;
                &lt;option value={60}&gt;1ì‹œê°„&lt;/option&gt;
                &lt;option value={90}&gt;1ì‹œê°„ 30ë¶„&lt;/option&gt;
                &lt;option value={120}&gt;2ì‹œê°„&lt;/option&gt;
                &lt;option value={180}&gt;3ì‹œê°„&lt;/option&gt;
                &lt;option value={240}&gt;4ì‹œê°„&lt;/option&gt;
              &lt;/select&gt;
            &lt;/div&gt;
          &lt;/div&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/Card&gt;
  );
}</code></pre>
                </div>
              </details>
            </div>
          </div>
        </div>

        <div class="task-card bg-gray-50 rounded-xl p-5">
          <div class="flex items-start gap-3">
            <input type="checkbox" class="mt-1 w-5 h-5 rounded border-gray-300">
            <div class="flex-1">
              <h4 class="font-semibold text-gray-800">components/places/place-list.tsx</h4>
              <p class="text-sm text-gray-500 mt-1">ì¥ì†Œ ì¹´ë“œ ëª©ë¡ + ë“œë˜ê·¸ì•¤ë“œë¡­ ìˆœì„œ ë³€ê²½</p>

              <div class="beginner-tip rounded-lg p-3 mt-3">
                <p class="text-xs text-amber-800">
                  <strong>ğŸ’¡ ë“œë˜ê·¸ì•¤ë“œë¡­ì´ë€?</strong>
                  ë§ˆìš°ìŠ¤ë¡œ í•­ëª©ì„ ëŒì–´ë‹¤ê°€ ì›í•˜ëŠ” ìœ„ì¹˜ì— ë†“ëŠ” ê²ƒì…ë‹ˆë‹¤.
                  <code>@dnd-kit/core</code> ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ë©´ ì‰½ê²Œ êµ¬í˜„í•  ìˆ˜ ìˆì–´ìš”!
                </p>
              </div>

              <div class="code-hint mt-2">
                <pre class="text-sm"><code class="language-bash"># ë“œë˜ê·¸ì•¤ë“œë¡­ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜
pnpm add @dnd-kit/core @dnd-kit/sortable @dnd-kit/utilities</code></pre>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- ==================== Dev B Section ==================== -->
    <section id="section-devB" class="dev-section mb-12">
      <div class="flex items-center gap-3 mb-6">
        <div class="w-12 h-12 gradient-b rounded-xl flex items-center justify-center">
          <span class="text-white text-xl">B</span>
        </div>
        <div>
          <h2 class="text-2xl font-bold text-gray-800">Dev B: ë°±ì—”ë“œ (API/DB/ìµœì í™”)</h2>
          <p class="text-gray-500 text-sm">ë°ì´í„° ì €ì¥, ì¡°íšŒ, ê²½ë¡œ ìµœì í™”ë¥¼ ë‹´ë‹¹í•©ë‹ˆë‹¤</p>
        </div>
      </div>

      <!-- Phase 1: ë°ì´í„°ë² ì´ìŠ¤ -->
      <div class="bg-white rounded-2xl p-6 card-shadow mb-6">
        <div class="flex items-center justify-between mb-4">
          <h3 class="font-bold text-lg text-devB flex items-center gap-2">
            <span class="w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center text-sm">1</span>
            Phase 1: ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì •
          </h3>
          <span class="text-xs px-3 py-1 bg-green-50 text-devB rounded-full">feat/api-database</span>
        </div>

        <div class="beginner-tip rounded-lg p-4 mb-4">
          <h4 class="font-bold text-amber-800 mb-2">ğŸ’¡ Supabase ë§ˆì´ê·¸ë ˆì´ì…˜ì´ë€?</h4>
          <p class="text-sm text-amber-900">
            ë§ˆì´ê·¸ë ˆì´ì…˜ì€ ë°ì´í„°ë² ì´ìŠ¤ì˜ êµ¬ì¡°(í…Œì´ë¸”, ì»¬ëŸ¼ ë“±)ë¥¼ ì½”ë“œë¡œ ê´€ë¦¬í•˜ëŠ” ë°©ë²•ì…ë‹ˆë‹¤.
            SQL íŒŒì¼ì„ ë§Œë“¤ì–´ë‘ë©´ <code>supabase db push</code> ëª…ë ¹ìœ¼ë¡œ DBì— ì ìš©í•  ìˆ˜ ìˆì–´ìš”.
            íŒ€ì›ë“¤ë„ ê°™ì€ íŒŒì¼ë¡œ ë™ì¼í•œ DB êµ¬ì¡°ë¥¼ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
          </p>
        </div>

        <div class="task-card bg-gray-50 rounded-xl p-5 mb-4">
          <div class="flex items-start gap-3">
            <input type="checkbox" class="mt-1 w-5 h-5 rounded border-gray-300">
            <div class="flex-1">
              <h4 class="font-semibold text-gray-800">trips í…Œì´ë¸” ìƒì„±</h4>
              <p class="text-sm text-gray-500 mt-1">ì—¬í–‰ ê³„íšì˜ ê¸°ë³¸ ì •ë³´ë¥¼ ì €ì¥í•˜ëŠ” í…Œì´ë¸”</p>

              <details class="mt-3">
                <summary class="text-sm text-devB font-medium cursor-pointer">ğŸ“ SQL ì½”ë“œ ë³´ê¸°</summary>
                <div class="code-hint mt-2">
                  <pre class="text-sm"><code class="language-sql">-- supabase/migrations/20250101000001_create_trips.sql
-- ğŸ’¡ íŒŒì¼ëª…ì˜ ìˆ«ìëŠ” ë‚ ì§œ+ì‹œê°„ í˜•ì‹ (ì˜ˆ: 20250101000001)
--    ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹¤í–‰ ìˆœì„œë¥¼ ì •í•˜ê¸° ìœ„í•¨ì…ë‹ˆë‹¤.

-- ì—¬í–‰ í…Œì´ë¸” ìƒì„±
CREATE TABLE trips (
  -- ğŸ”‘ id: ê° ì—¬í–‰ì˜ ê³ ìœ  ì‹ë³„ì (UUID ìë™ ìƒì„±)
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),

  -- ğŸ‘¤ user_id: ì´ ì—¬í–‰ì„ ë§Œë“  ì‚¬ìš©ì (Clerk ID)
  --    users í…Œì´ë¸”ì˜ clerk_idë¥¼ ì°¸ì¡°í•©ë‹ˆë‹¤
  user_id TEXT NOT NULL REFERENCES users(clerk_id),

  -- ğŸ“ title: ì—¬í–‰ ì œëª© (ì˜ˆ: "ì œì£¼ë„ 3ë°•4ì¼")
  title TEXT NOT NULL,

  -- ğŸ“… start_date, end_date: ì—¬í–‰ ì‹œì‘ì¼ê³¼ ì¢…ë£Œì¼
  start_date DATE NOT NULL,
  end_date DATE NOT NULL,

  -- ğŸ“ origin: ì¶œë°œì§€ ì •ë³´ (JSON í˜•íƒœ)
  --    ì˜ˆ: {"name": "ì„œìš¸ì—­", "address": "ì„œìš¸ì‹œ ì¤‘êµ¬...", "lat": 37.5, "lng": 127.0}
  origin JSONB NOT NULL,

  -- ğŸ“ destination: ë„ì°©ì§€ ì •ë³´ (ê°™ì€ í˜•íƒœ)
  destination JSONB NOT NULL,

  -- ğŸš— transport_mode: ì´ë™ìˆ˜ë‹¨ (ë°°ì—´)
  --    ì˜ˆ: ['public'] ë˜ëŠ” ['car'] ë˜ëŠ” ['public', 'car']
  transport_mode TEXT[] NOT NULL,

  -- ğŸ“Š status: ì—¬í–‰ ìƒíƒœ
  --    'draft': ì‘ì„± ì¤‘
  --    'optimized': ìµœì í™” ì™„ë£Œ
  --    'completed': ì—¬í–‰ ì™„ë£Œ
  status TEXT DEFAULT 'draft',

  -- ğŸ• ìƒì„±/ìˆ˜ì • ì‹œê°„ ìë™ ê¸°ë¡
  created_at TIMESTAMPTZ DEFAULT now(),
  updated_at TIMESTAMPTZ DEFAULT now()
);

-- ğŸ”’ RLS (Row Level Security) í™œì„±í™”
-- ì‚¬ìš©ìê°€ ìì‹ ì˜ ë°ì´í„°ë§Œ ë³¼ ìˆ˜ ìˆë„ë¡ ë³´ì•ˆ ì„¤ì •
ALTER TABLE trips ENABLE ROW LEVEL SECURITY;

-- ğŸ“– SELECT ì •ì±…: ìì‹ ì˜ ì—¬í–‰ë§Œ ì¡°íšŒ ê°€ëŠ¥
CREATE POLICY "Users can view own trips"
  ON trips FOR SELECT
  -- auth.jwt()->>'sub'ëŠ” í˜„ì¬ ë¡œê·¸ì¸í•œ ì‚¬ìš©ìì˜ Clerk ID
  USING (auth.jwt()->>'sub' = user_id);

-- â• INSERT ì •ì±…: ìì‹ ì˜ ì—¬í–‰ë§Œ ìƒì„± ê°€ëŠ¥
CREATE POLICY "Users can create own trips"
  ON trips FOR INSERT
  WITH CHECK (auth.jwt()->>'sub' = user_id);

-- âœï¸ UPDATE ì •ì±…: ìì‹ ì˜ ì—¬í–‰ë§Œ ìˆ˜ì • ê°€ëŠ¥
CREATE POLICY "Users can update own trips"
  ON trips FOR UPDATE
  USING (auth.jwt()->>'sub' = user_id);

-- ğŸ—‘ï¸ DELETE ì •ì±…: ìì‹ ì˜ ì—¬í–‰ë§Œ ì‚­ì œ ê°€ëŠ¥
CREATE POLICY "Users can delete own trips"
  ON trips FOR DELETE
  USING (auth.jwt()->>'sub' = user_id);</code></pre>
                </div>
              </details>
            </div>
          </div>
        </div>

        <div class="task-card bg-gray-50 rounded-xl p-5">
          <div class="flex items-start gap-3">
            <input type="checkbox" class="mt-1 w-5 h-5 rounded border-gray-300">
            <div class="flex-1">
              <h4 class="font-semibold text-gray-800">trip_places í…Œì´ë¸” ìƒì„±</h4>
              <p class="text-sm text-gray-500 mt-1">ì—¬í–‰ì— ì¶”ê°€ëœ ë°©ë¬¸ ì¥ì†Œë“¤ì„ ì €ì¥í•˜ëŠ” í…Œì´ë¸”</p>

              <details class="mt-3">
                <summary class="text-sm text-devB font-medium cursor-pointer">ğŸ“ SQL ì½”ë“œ ë³´ê¸°</summary>
                <div class="code-hint mt-2">
                  <pre class="text-sm"><code class="language-sql">-- supabase/migrations/20250101000002_create_trip_places.sql

CREATE TABLE trip_places (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),

  -- ğŸ”— ì–´ë–¤ ì—¬í–‰ì— ì†í•œ ì¥ì†Œì¸ì§€
  --    trips í…Œì´ë¸” ì‚­ì œ ì‹œ í•¨ê»˜ ì‚­ì œë¨ (CASCADE)
  trip_id UUID NOT NULL REFERENCES trips(id) ON DELETE CASCADE,

  -- ì¥ì†Œ ê¸°ë³¸ ì •ë³´
  name TEXT NOT NULL,           -- ì¥ì†Œëª… (ì˜ˆ: "ê²½ë³µê¶")
  address TEXT NOT NULL,        -- ì£¼ì†Œ
  lat DOUBLE PRECISION NOT NULL,  -- ìœ„ë„ (ì˜ˆ: 37.579617)
  lng DOUBLE PRECISION NOT NULL,  -- ê²½ë„ (ì˜ˆ: 126.977041)

  -- ë¶€ê°€ ì •ë³´
  category TEXT,                -- ì¹´í…Œê³ ë¦¬ (ì˜ˆ: "ê´€ê´‘ëª…ì†Œ")
  kakao_place_id TEXT,          -- Kakao APIì—ì„œ ë°›ì€ ì¥ì†Œ ID
  priority INT,                 -- ì‚¬ìš©ì ì§€ì • ìš°ì„ ìˆœìœ„
  estimated_duration INT DEFAULT 60,  -- ì˜ˆìƒ ì²´ë¥˜ì‹œê°„ (ë¶„)

  created_at TIMESTAMPTZ DEFAULT now()
);

-- RLS ì„¤ì • (tripsì™€ ì—°ê²°í•˜ì—¬ ê¶Œí•œ í™•ì¸)
ALTER TABLE trip_places ENABLE ROW LEVEL SECURITY;

-- ğŸ’¡ ì„œë¸Œì¿¼ë¦¬ë¡œ trips í…Œì´ë¸”ì˜ user_id í™•ì¸
CREATE POLICY "Users can manage trip places"
  ON trip_places FOR ALL
  USING (
    EXISTS (
      SELECT 1 FROM trips
      WHERE trips.id = trip_places.trip_id
      AND auth.jwt()->>'sub' = trips.user_id
    )
  );</code></pre>
                </div>
              </details>
            </div>
          </div>
        </div>
      </div>

      <!-- Phase 2: Server Actions -->
      <div class="bg-white rounded-2xl p-6 card-shadow mb-6">
        <div class="flex items-center justify-between mb-4">
          <h3 class="font-bold text-lg text-devB flex items-center gap-2">
            <span class="w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center text-sm">2</span>
            Phase 2: ì—¬í–‰ CRUD Server Actions
          </h3>
          <span class="text-xs px-3 py-1 bg-green-50 text-devB rounded-full">feat/api-trips-crud</span>
        </div>

        <div class="beginner-tip rounded-lg p-4 mb-4">
          <h4 class="font-bold text-amber-800 mb-2">ğŸ’¡ Server Actionì´ë€?</h4>
          <p class="text-sm text-amber-900">
            Next.js 13+ì—ì„œ ì œê³µí•˜ëŠ” ê¸°ëŠ¥ìœ¼ë¡œ, ì„œë²„ì—ì„œ ì‹¤í–‰ë˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤.
            API ë¼ìš°íŠ¸ë¥¼ ë”°ë¡œ ë§Œë“¤ì§€ ì•Šê³ ë„ ì„œë²„ ë¡œì§ì„ ì‘ì„±í•  ìˆ˜ ìˆì–´ìš”.
            íŒŒì¼ ë§¨ ìœ„ì— <code>"use server";</code>ë¥¼ ì¨ì£¼ë©´ ë©ë‹ˆë‹¤!
          </p>
        </div>

        <div class="task-card bg-gray-50 rounded-xl p-5 mb-4">
          <div class="flex items-start gap-3">
            <input type="checkbox" class="mt-1 w-5 h-5 rounded border-gray-300">
            <div class="flex-1">
              <h4 class="font-semibold text-gray-800">actions/trips/create-trip.ts</h4>
              <p class="text-sm text-gray-500 mt-1">ìƒˆ ì—¬í–‰ ê³„íšì„ ìƒì„±í•˜ëŠ” ì•¡ì…˜</p>

              <details class="mt-3">
                <summary class="text-sm text-devB font-medium cursor-pointer">ğŸ“ êµ¬í˜„ ê°€ì´ë“œ ë³´ê¸°</summary>
                <div class="code-hint mt-2">
                  <pre class="text-sm"><code class="language-typescript">// actions/trips/create-trip.ts
"use server";  // âš ï¸ ì´ ì¤„ì´ ìˆì–´ì•¼ Server Actionìœ¼ë¡œ ë™ì‘!

import { auth } from "@clerk/nextjs/server";
import { createClerkSupabaseClient } from "@/lib/supabase/server";
import { revalidatePath } from "next/cache";

// ğŸ“Œ ì…ë ¥ íƒ€ì… ì •ì˜
interface CreateTripInput {
  title: string;
  startDate: string;    // ISO í˜•ì‹ (ì˜ˆ: "2025-01-15")
  endDate: string;
  origin: {
    name: string;
    address: string;
    lat: number;
    lng: number;
  };
  destination: {
    name: string;
    address: string;
    lat: number;
    lng: number;
  };
  transportMode: ("public" | "car")[];
}

// ğŸ“Œ ì‘ë‹µ íƒ€ì… ì •ì˜
interface CreateTripResult {
  success: boolean;
  data?: { id: string };       // ì„±ê³µ ì‹œ ìƒì„±ëœ ì—¬í–‰ ID
  error?: { code: string; message: string };  // ì‹¤íŒ¨ ì‹œ ì—ëŸ¬ ì •ë³´
}

export async function createTrip(input: CreateTripInput): Promise&lt;CreateTripResult&gt; {
  try {
    // 1ï¸âƒ£ í˜„ì¬ ë¡œê·¸ì¸í•œ ì‚¬ìš©ì í™•ì¸
    const { userId } = await auth();
    if (!userId) {
      return {
        success: false,
        error: { code: "UNAUTHORIZED", message: "ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤" }
      };
    }

    // 2ï¸âƒ£ Supabase í´ë¼ì´ì–¸íŠ¸ ìƒì„± (í˜„ì¬ ì‚¬ìš©ì ê¶Œí•œìœ¼ë¡œ)
    const supabase = await createClerkSupabaseClient();

    // 3ï¸âƒ£ ë°ì´í„°ë² ì´ìŠ¤ì— ì—¬í–‰ ì¶”ê°€
    const { data, error } = await supabase
      .from("trips")
      .insert({
        user_id: userId,
        title: input.title,
        start_date: input.startDate,
        end_date: input.endDate,
        origin: input.origin,           // JSONB ì»¬ëŸ¼ì— ê°ì²´ ì €ì¥
        destination: input.destination,
        transport_mode: input.transportMode,
        status: "draft"
      })
      .select("id")    // ìƒì„±ëœ IDë§Œ ë°˜í™˜
      .single();       // ë‹¨ì¼ ê²°ê³¼ ë°˜í™˜

    // 4ï¸âƒ£ ì—ëŸ¬ ì²˜ë¦¬
    if (error) {
      console.error("ì—¬í–‰ ìƒì„± ì‹¤íŒ¨:", error);
      return {
        success: false,
        error: { code: "DB_ERROR", message: error.message }
      };
    }

    // 5ï¸âƒ£ ìºì‹œ ê°±ì‹  (ë§ˆì´í˜ì´ì§€ ëª©ë¡ ìƒˆë¡œê³ ì¹¨)
    revalidatePath("/my");

    // 6ï¸âƒ£ ì„±ê³µ ì‘ë‹µ
    return {
      success: true,
      data: { id: data.id }
    };

  } catch (error) {
    console.error("ì˜ˆìƒì¹˜ ëª»í•œ ì—ëŸ¬:", error);
    return {
      success: false,
      error: { code: "UNKNOWN", message: "ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤" }
    };
  }
}</code></pre>
                </div>
              </details>
            </div>
          </div>
        </div>
      </div>

      <!-- Phase 5: ìµœì í™” ì—”ì§„ -->
      <div class="bg-white rounded-2xl p-6 card-shadow">
        <div class="flex items-center justify-between mb-4">
          <h3 class="font-bold text-lg text-devB flex items-center gap-2">
            <span class="w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center text-sm">5</span>
            Phase 5: ìµœì í™” ì—”ì§„
          </h3>
          <span class="text-xs px-3 py-1 bg-green-50 text-devB rounded-full">feat/api-optimize</span>
        </div>

        <div class="beginner-tip rounded-lg p-4 mb-4">
          <h4 class="font-bold text-amber-800 mb-2">ğŸ’¡ TSP ì•Œê³ ë¦¬ì¦˜ì´ë€?</h4>
          <p class="text-sm text-amber-900 mb-2">
            <strong>TSP (Traveling Salesman Problem)</strong>: ì—¬ëŸ¬ ë„ì‹œë¥¼ í•œ ë²ˆì”© ë°©ë¬¸í•˜ê³ 
            ì¶œë°œì ìœ¼ë¡œ ëŒì•„ì˜¤ëŠ” ê°€ì¥ ì§§ì€ ê²½ë¡œë¥¼ ì°¾ëŠ” ë¬¸ì œì…ë‹ˆë‹¤.
          </p>
          <p class="text-sm text-amber-900">
            ì™„ë²½í•œ ìµœì í•´ë¥¼ ì°¾ìœ¼ë ¤ë©´ ì‹œê°„ì´ ë„ˆë¬´ ì˜¤ë˜ ê±¸ë ¤ì„œ,
            <strong>ê·¼ì‚¬(approximation)</strong> ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•©ë‹ˆë‹¤:
          </p>
          <ul class="text-sm text-amber-900 mt-2 space-y-1 list-disc list-inside">
            <li><strong>Nearest Neighbor</strong>: í˜„ì¬ ìœ„ì¹˜ì—ì„œ ê°€ì¥ ê°€ê¹Œìš´ ê³³ ì„ íƒ (ë¹ ë¥´ì§€ë§Œ ì •í™•ë„ ë‚®ìŒ)</li>
            <li><strong>2-opt</strong>: ê²½ë¡œì˜ ì¼ë¶€ë¥¼ ë’¤ì§‘ì–´ì„œ ë” ì§§ì•„ì§€ë©´ ì ìš© (ê°œì„  ì•Œê³ ë¦¬ì¦˜)</li>
          </ul>
        </div>

        <div class="task-card bg-gray-50 rounded-xl p-5 mb-4">
          <div class="flex items-start gap-3">
            <input type="checkbox" class="mt-1 w-5 h-5 rounded border-gray-300">
            <div class="flex-1">
              <h4 class="font-semibold text-gray-800">lib/optimize/distance-matrix.ts</h4>
              <p class="text-sm text-gray-500 mt-1">ëª¨ë“  ì¥ì†Œ ìŒ ì‚¬ì´ì˜ ê±°ë¦¬ë¥¼ ê³„ì‚°í•˜ëŠ” í•¨ìˆ˜</p>

              <details class="mt-3">
                <summary class="text-sm text-devB font-medium cursor-pointer">ğŸ“ êµ¬í˜„ ê°€ì´ë“œ ë³´ê¸°</summary>
                <div class="code-hint mt-2">
                  <pre class="text-sm"><code class="language-typescript">// lib/optimize/distance-matrix.ts

interface Location {
  lat: number;  // ìœ„ë„
  lng: number;  // ê²½ë„
}

/**
 * ğŸŒ Haversine ê³µì‹: ì§€êµ¬ í‘œë©´ì˜ ë‘ ì  ì‚¬ì´ ê±°ë¦¬ ê³„ì‚°
 *
 * ì™œ í•„ìš”í•œê°€?
 * - ì§€êµ¬ëŠ” ë‘¥ê¸€ê¸° ë•Œë¬¸ì— ì¼ë°˜ í”¼íƒ€ê³ ë¼ìŠ¤ ì •ë¦¬ë¡œ ê±°ë¦¬ë¥¼ êµ¬í•˜ë©´ ì˜¤ì°¨ê°€ í½ë‹ˆë‹¤
 * - Haversine ê³µì‹ì€ ì§€êµ¬ì˜ ê³¡ë¥ ì„ ê³ ë ¤í•´ì„œ ì •í™•í•œ ê±°ë¦¬ë¥¼ ê³„ì‚°í•©ë‹ˆë‹¤
 *
 * @param loc1 - ì²« ë²ˆì§¸ ìœ„ì¹˜ (ìœ„ë„, ê²½ë„)
 * @param loc2 - ë‘ ë²ˆì§¸ ìœ„ì¹˜ (ìœ„ë„, ê²½ë„)
 * @returns ë‘ ì  ì‚¬ì´ì˜ ê±°ë¦¬ (ë¯¸í„°)
 */
export function calculateHaversineDistance(loc1: Location, loc2: Location): number {
  // ì§€êµ¬ ë°˜ì§€ë¦„ (ë¯¸í„°)
  const R = 6371000;

  // ìœ„ë„ë¥¼ ë¼ë””ì•ˆìœ¼ë¡œ ë³€í™˜ (ì‚¼ê°í•¨ìˆ˜ëŠ” ë¼ë””ì•ˆì„ ì‚¬ìš©)
  const lat1Rad = (loc1.lat * Math.PI) / 180;
  const lat2Rad = (loc2.lat * Math.PI) / 180;

  // ìœ„ë„/ê²½ë„ ì°¨ì´
  const deltaLat = ((loc2.lat - loc1.lat) * Math.PI) / 180;
  const deltaLng = ((loc2.lng - loc1.lng) * Math.PI) / 180;

  // Haversine ê³µì‹ ì ìš©
  const a =
    Math.sin(deltaLat / 2) * Math.sin(deltaLat / 2) +
    Math.cos(lat1Rad) * Math.cos(lat2Rad) *
    Math.sin(deltaLng / 2) * Math.sin(deltaLng / 2);

  const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));

  // ê±°ë¦¬ ë°˜í™˜ (ë¯¸í„°)
  return R * c;
}

/**
 * ğŸ“Š ê±°ë¦¬ í–‰ë ¬ ìƒì„±
 *
 * ëª¨ë“  ì¥ì†Œ ìŒ ì‚¬ì´ì˜ ê±°ë¦¬ë¥¼ ë¯¸ë¦¬ ê³„ì‚°í•´ë‘ëŠ” í•¨ìˆ˜
 *
 * ì˜ˆ: 3ê°œ ì¥ì†Œ A, B, Cê°€ ìˆìœ¼ë©´
 * [
 *   [0, 1000, 2000],   // Aâ†’A, Aâ†’B, Aâ†’C
 *   [1000, 0, 1500],   // Bâ†’A, Bâ†’B, Bâ†’C
 *   [2000, 1500, 0]    // Câ†’A, Câ†’B, Câ†’C
 * ]
 *
 * @param locations - ì¥ì†Œ ì¢Œí‘œ ë°°ì—´
 * @returns ê±°ë¦¬ í–‰ë ¬ (2ì°¨ì› ë°°ì—´)
 */
export function createDistanceMatrix(locations: Location[]): number[][] {
  const n = locations.length;

  // n x n í¬ê¸°ì˜ 2ì°¨ì› ë°°ì—´ ìƒì„±
  const matrix: number[][] = Array(n)
    .fill(null)
    .map(() => Array(n).fill(0));

  // ëª¨ë“  ìŒì— ëŒ€í•´ ê±°ë¦¬ ê³„ì‚°
  for (let i = 0; i < n; i++) {
    for (let j = i + 1; j < n; j++) {
      const distance = calculateHaversineDistance(locations[i], locations[j]);
      // ëŒ€ì¹­ í–‰ë ¬ (Aâ†’B ê±°ë¦¬ = Bâ†’A ê±°ë¦¬)
      matrix[i][j] = distance;
      matrix[j][i] = distance;
    }
  }

  return matrix;
}</code></pre>
                </div>
              </details>
            </div>
          </div>
        </div>

        <div class="task-card bg-gray-50 rounded-xl p-5">
          <div class="flex items-start gap-3">
            <input type="checkbox" class="mt-1 w-5 h-5 rounded border-gray-300">
            <div class="flex-1">
              <h4 class="font-semibold text-gray-800">lib/optimize/nearest-neighbor.ts</h4>
              <p class="text-sm text-gray-500 mt-1">ê°€ì¥ ê°€ê¹Œìš´ ì¥ì†Œë¶€í„° ë°©ë¬¸í•˜ëŠ” ì•Œê³ ë¦¬ì¦˜</p>

              <details class="mt-3">
                <summary class="text-sm text-devB font-medium cursor-pointer">ğŸ“ êµ¬í˜„ ê°€ì´ë“œ ë³´ê¸°</summary>
                <div class="code-hint mt-2">
                  <pre class="text-sm"><code class="language-typescript">// lib/optimize/nearest-neighbor.ts

/**
 * ğŸƒ Nearest Neighbor ì•Œê³ ë¦¬ì¦˜
 *
 * ì‘ë™ ë°©ì‹:
 * 1. ì¶œë°œì ì—ì„œ ì‹œì‘
 * 2. ì•„ì§ ë°©ë¬¸í•˜ì§€ ì•Šì€ ì¥ì†Œ ì¤‘ ê°€ì¥ ê°€ê¹Œìš´ ê³³ìœ¼ë¡œ ì´ë™
 * 3. ëª¨ë“  ì¥ì†Œë¥¼ ë°©ë¬¸í•  ë•Œê¹Œì§€ ë°˜ë³µ
 *
 * ì¥ì : ë¹ ë¥´ë‹¤! O(nÂ²)
 * ë‹¨ì : ìµœì í•´ê°€ ì•„ë‹ ìˆ˜ ìˆìŒ (2-optë¡œ ê°œì„  ê°€ëŠ¥)
 *
 * @param distanceMatrix - ê±°ë¦¬ í–‰ë ¬
 * @param startIndex - ì‹œì‘ ìœ„ì¹˜ ì¸ë±ìŠ¤ (ë³´í†µ 0 = ì¶œë°œì§€)
 * @returns ë°©ë¬¸ ìˆœì„œ ë°°ì—´ (ì¸ë±ìŠ¤)
 */
export function nearestNeighbor(
  distanceMatrix: number[][],
  startIndex: number = 0
): number[] {
  const n = distanceMatrix.length;

  // ë°©ë¬¸ ì—¬ë¶€ ì¶”ì 
  const visited: boolean[] = Array(n).fill(false);

  // ê²°ê³¼: ë°©ë¬¸ ìˆœì„œ
  const route: number[] = [startIndex];
  visited[startIndex] = true;

  // í˜„ì¬ ìœ„ì¹˜
  let current = startIndex;

  // n-1ë²ˆ ë°˜ë³µ (ì‹œì‘ì  ì œì™¸í•œ ë‚˜ë¨¸ì§€ ì¥ì†Œë“¤)
  for (let i = 1; i < n; i++) {
    let nearestIndex = -1;
    let nearestDistance = Infinity;

    // ì•„ì§ ë°©ë¬¸í•˜ì§€ ì•Šì€ ì¥ì†Œ ì¤‘ ê°€ì¥ ê°€ê¹Œìš´ ê³³ ì°¾ê¸°
    for (let j = 0; j < n; j++) {
      if (!visited[j] && distanceMatrix[current][j] < nearestDistance) {
        nearestDistance = distanceMatrix[current][j];
        nearestIndex = j;
      }
    }

    // ê°€ì¥ ê°€ê¹Œìš´ ì¥ì†Œë¡œ ì´ë™
    if (nearestIndex !== -1) {
      route.push(nearestIndex);
      visited[nearestIndex] = true;
      current = nearestIndex;
    }
  }

  return route;
}

/**
 * ğŸ“ ê²½ë¡œì˜ ì´ ê±°ë¦¬ ê³„ì‚°
 */
export function calculateRouteDistance(
  route: number[],
  distanceMatrix: number[][]
): number {
  let total = 0;
  for (let i = 0; i < route.length - 1; i++) {
    total += distanceMatrix[route[i]][route[i + 1]];
  }
  return total;
}</code></pre>
                </div>
              </details>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- ==================== Dev C Section ==================== -->
    <section id="section-devC" class="dev-section mb-12">
      <div class="flex items-center gap-3 mb-6">
        <div class="w-12 h-12 gradient-c rounded-xl flex items-center justify-center">
          <span class="text-white text-xl">C</span>
        </div>
        <div>
          <h2 class="text-2xl font-bold text-gray-800">Dev C: ì§€ë„/ì™¸ë¶€API + ë§ˆì¼€íŒ…</h2>
          <p class="text-gray-500 text-sm">ì§€ë„ í‘œì‹œ, ì¥ì†Œ ê²€ìƒ‰, ê²½ë¡œ ì¡°íšŒ ë° ë§ˆì¼€íŒ…ì„ ë‹´ë‹¹í•©ë‹ˆë‹¤</p>
        </div>
      </div>

      <!-- Phase 1: Kakao Maps -->
      <div class="bg-white rounded-2xl p-6 card-shadow mb-6">
        <div class="flex items-center justify-between mb-4">
          <h3 class="font-bold text-lg text-devC flex items-center gap-2">
            <span class="w-8 h-8 bg-amber-100 rounded-lg flex items-center justify-center text-sm">1</span>
            Phase 1: Kakao Maps ì„¤ì •
          </h3>
          <span class="text-xs px-3 py-1 bg-amber-50 text-devC rounded-full">feat/map-kakao-setup</span>
        </div>

        <div class="beginner-tip rounded-lg p-4 mb-4">
          <h4 class="font-bold text-amber-800 mb-2">ğŸ’¡ Kakao API í‚¤ ë°œê¸‰ ë°©ë²•</h4>
          <ol class="text-sm text-amber-900 space-y-1 list-decimal list-inside">
            <li><a href="https://developers.kakao.com" class="underline">developers.kakao.com</a> ì ‘ì†</li>
            <li>ì¹´ì¹´ì˜¤ ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸</li>
            <li>"ë‚´ ì• í”Œë¦¬ì¼€ì´ì…˜" â†’ "ì• í”Œë¦¬ì¼€ì´ì…˜ ì¶”ê°€"</li>
            <li>ì•± ì´ë¦„ ì…ë ¥ í›„ ìƒì„±</li>
            <li>"ì•± í‚¤" ë©”ë‰´ì—ì„œ "JavaScript í‚¤" ë³µì‚¬</li>
            <li><code>.env.local</code> íŒŒì¼ì— ì¶”ê°€</li>
          </ol>
        </div>

        <div class="task-card bg-gray-50 rounded-xl p-5 mb-4">
          <div class="flex items-start gap-3">
            <input type="checkbox" class="mt-1 w-5 h-5 rounded border-gray-300">
            <div class="flex-1">
              <h4 class="font-semibold text-gray-800">lib/kakao/loader.ts</h4>
              <p class="text-sm text-gray-500 mt-1">Kakao Maps SDKë¥¼ ë™ì ìœ¼ë¡œ ë¡œë“œí•˜ëŠ” ìœ í‹¸ë¦¬í‹°</p>

              <div class="beginner-tip rounded-lg p-3 mt-3">
                <p class="text-xs text-amber-800">
                  <strong>ğŸ’¡ ë™ì  ë¡œë“œë€?</strong>
                  ì›¹í˜ì´ì§€ê°€ ì—´ë¦´ ë•Œ ëª¨ë“  ìŠ¤í¬ë¦½íŠ¸ë¥¼ ë‹¤ ë¶ˆëŸ¬ì˜¤ë©´ ëŠë ¤ì§‘ë‹ˆë‹¤.
                  ì§€ë„ê°€ í•„ìš”í•œ ìˆœê°„ì—ë§Œ SDKë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ê²ƒì´ "ë™ì  ë¡œë“œ"ì…ë‹ˆë‹¤.
                </p>
              </div>

              <details class="mt-3">
                <summary class="text-sm text-devC font-medium cursor-pointer">ğŸ“ êµ¬í˜„ ê°€ì´ë“œ ë³´ê¸°</summary>
                <div class="code-hint mt-2">
                  <pre class="text-sm"><code class="language-typescript">// lib/kakao/loader.ts

// ğŸŒ ì „ì—­ íƒ€ì… ì„ ì–¸ (TypeScriptìš©)
declare global {
  interface Window {
    kakao: any;
  }
}

// SDK ë¡œë“œ ìƒíƒœë¥¼ ì¶”ì í•˜ëŠ” Promise
let kakaoMapLoaded: Promise&lt;void&gt; | null = null;

/**
 * ğŸ“¦ Kakao Maps SDK ë¡œë“œ í•¨ìˆ˜
 *
 * ì—¬ëŸ¬ ë²ˆ í˜¸ì¶œí•´ë„ í•œ ë²ˆë§Œ ë¡œë“œë©ë‹ˆë‹¤ (ì‹±ê¸€í†¤ íŒ¨í„´)
 *
 * @returns SDK ë¡œë“œ ì™„ë£Œ Promise
 */
export function loadKakaoMap(): Promise&lt;void&gt; {
  // ì´ë¯¸ ë¡œë“œ ì¤‘ì´ê±°ë‚˜ ì™„ë£Œëœ ê²½ìš°, ê¸°ì¡´ Promise ë°˜í™˜
  if (kakaoMapLoaded) {
    return kakaoMapLoaded;
  }

  kakaoMapLoaded = new Promise((resolve, reject) => {
    // ì´ë¯¸ ë¡œë“œëœ ê²½ìš° ë°”ë¡œ ì™„ë£Œ
    if (window.kakao && window.kakao.maps) {
      resolve();
      return;
    }

    // ìŠ¤í¬ë¦½íŠ¸ íƒœê·¸ ìƒì„±
    const script = document.createElement("script");
    script.src = `//dapi.kakao.com/v2/maps/sdk.js?appkey=${process.env.NEXT_PUBLIC_KAKAO_MAP_KEY}&autoload=false&libraries=services`;
    script.async = true;

    // ë¡œë“œ ì„±ê³µ
    script.onload = () => {
      // Kakao SDKëŠ” autoload=falseì¼ ë•Œ ìˆ˜ë™ìœ¼ë¡œ load() í˜¸ì¶œ í•„ìš”
      window.kakao.maps.load(() => {
        console.log("âœ… Kakao Maps SDK ë¡œë“œ ì™„ë£Œ");
        resolve();
      });
    };

    // ë¡œë“œ ì‹¤íŒ¨
    script.onerror = () => {
      kakaoMapLoaded = null;  // ì¬ì‹œë„ ê°€ëŠ¥í•˜ë„ë¡ ì´ˆê¸°í™”
      reject(new Error("Kakao Maps SDK ë¡œë“œ ì‹¤íŒ¨"));
    };

    // ìŠ¤í¬ë¦½íŠ¸ë¥¼ ë¬¸ì„œì— ì¶”ê°€
    document.head.appendChild(script);
  });

  return kakaoMapLoaded;
}</code></pre>
                </div>
              </details>
            </div>
          </div>
        </div>

        <div class="task-card bg-gray-50 rounded-xl p-5">
          <div class="flex items-start gap-3">
            <input type="checkbox" class="mt-1 w-5 h-5 rounded border-gray-300">
            <div class="flex-1">
              <h4 class="font-semibold text-gray-800">components/map/kakao-map.tsx</h4>
              <p class="text-sm text-gray-500 mt-1">ê¸°ë³¸ ì§€ë„ ì»´í¬ë„ŒíŠ¸</p>

              <details class="mt-3">
                <summary class="text-sm text-devC font-medium cursor-pointer">ğŸ“ êµ¬í˜„ ê°€ì´ë“œ ë³´ê¸°</summary>
                <div class="code-hint mt-2">
                  <pre class="text-sm"><code class="language-typescript">// components/map/kakao-map.tsx
"use client";

import { useEffect, useRef, useState } from "react";
import { loadKakaoMap } from "@/lib/kakao/loader";

interface KakaoMapProps {
  center?: { lat: number; lng: number };  // ì§€ë„ ì¤‘ì‹¬ ì¢Œí‘œ
  level?: number;                          // í™•ëŒ€ ë ˆë²¨ (1~14, ë‚®ì„ìˆ˜ë¡ í™•ëŒ€)
  className?: string;
  onMapLoad?: (map: any) => void;          // ì§€ë„ ë¡œë“œ ì™„ë£Œ ì½œë°±
}

export function KakaoMap({
  center = { lat: 37.5665, lng: 126.978 },  // ê¸°ë³¸: ì„œìš¸ì‹œì²­
  level = 5,
  className = "w-full h-96",
  onMapLoad
}: KakaoMapProps) {
  // ğŸ¯ ì§€ë„ë¥¼ ê·¸ë¦´ divì˜ ì°¸ì¡°
  const mapRef = useRef&lt;HTMLDivElement&gt;(null);

  // ì§€ë„ ì¸ìŠ¤í„´ìŠ¤ ì €ì¥
  const [map, setMap] = useState&lt;any&gt;(null);

  // ë¡œë”© ìƒíƒœ
  const [loading, setLoading] = useState(true);

  // ğŸ“ ì§€ë„ ì´ˆê¸°í™”
  useEffect(() => {
    async function initMap() {
      try {
        // 1. SDK ë¡œë“œ
        await loadKakaoMap();

        // 2. mapRefê°€ ì—°ê²°ëœ DOMì´ ìˆëŠ”ì§€ í™•ì¸
        if (!mapRef.current) return;

        // 3. ì§€ë„ ì˜µì…˜ ì„¤ì •
        const options = {
          center: new window.kakao.maps.LatLng(center.lat, center.lng),
          level: level,
        };

        // 4. ì§€ë„ ìƒì„±
        const kakaoMap = new window.kakao.maps.Map(mapRef.current, options);

        setMap(kakaoMap);
        setLoading(false);

        // 5. ì½œë°± í˜¸ì¶œ (ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì§€ë„ ì¡°ì‘ ê°€ëŠ¥)
        onMapLoad?.(kakaoMap);

      } catch (error) {
        console.error("ì§€ë„ ì´ˆê¸°í™” ì‹¤íŒ¨:", error);
        setLoading(false);
      }
    }

    initMap();
  }, []);  // ìµœì´ˆ 1íšŒë§Œ ì‹¤í–‰

  // ğŸ”„ ì¤‘ì‹¬ ì¢Œí‘œ ë³€ê²½ ì‹œ ì§€ë„ ì´ë™
  useEffect(() => {
    if (map && center) {
      const newCenter = new window.kakao.maps.LatLng(center.lat, center.lng);
      map.setCenter(newCenter);
    }
  }, [map, center.lat, center.lng]);

  return (
    &lt;div className="relative"&gt;
      {/* ì§€ë„ ì»¨í…Œì´ë„ˆ */}
      &lt;div ref={mapRef} className={className} /&gt;

      {/* ë¡œë”© ì˜¤ë²„ë ˆì´ */}
      {loading && (
        &lt;div className="absolute inset-0 bg-gray-100 flex items-center justify-center"&gt;
          &lt;div className="text-gray-500"&gt;ì§€ë„ ë¡œë”© ì¤‘...&lt;/div&gt;
        &lt;/div&gt;
      )}
    &lt;/div&gt;
  );
}</code></pre>
                </div>
              </details>
            </div>
          </div>
        </div>
      </div>

      <!-- ë§ˆì¼€íŒ… ì„¹ì…˜ -->
      <div class="bg-white rounded-2xl p-6 card-shadow">
        <div class="flex items-center justify-between mb-4">
          <h3 class="font-bold text-lg text-devC flex items-center gap-2">
            <span class="w-8 h-8 bg-amber-100 rounded-lg flex items-center justify-center text-sm">6</span>
            Phase 6: SNS ë§ˆì¼€íŒ…
          </h3>
          <span class="text-xs px-3 py-1 bg-amber-50 text-devC rounded-full">feat/marketing-*</span>
        </div>

        <div class="grid md:grid-cols-2 gap-4">
          <div class="task-card bg-gradient-to-br from-pink-50 to-purple-50 rounded-xl p-5">
            <div class="flex items-center gap-3 mb-3">
              <span class="text-2xl">ğŸ“¸</span>
              <h4 class="font-semibold text-gray-800">Instagram</h4>
            </div>
            <ul class="text-sm text-gray-600 space-y-2">
              <li>â€¢ ë¹„ì¦ˆë‹ˆìŠ¤ ê³„ì • ìƒì„±</li>
              <li>â€¢ í”¼ë“œ/ìŠ¤í† ë¦¬/ë¦´ìŠ¤ í…œí”Œë¦¿</li>
              <li>â€¢ 4ì£¼ ì½˜í…ì¸  ìº˜ë¦°ë”</li>
              <li>â€¢ í•´ì‹œíƒœê·¸ ì „ëµ</li>
            </ul>
          </div>

          <div class="task-card bg-gradient-to-br from-blue-50 to-cyan-50 rounded-xl p-5">
            <div class="flex items-center gap-3 mb-3">
              <span class="text-2xl">ğŸ¦</span>
              <h4 class="font-semibold text-gray-800">Twitter/X</h4>
            </div>
            <ul class="text-sm text-gray-600 space-y-2">
              <li>â€¢ ê³„ì • ì„¤ì •</li>
              <li>â€¢ ëŸ°ì¹­ ìŠ¤ë ˆë“œ ê¸°íš</li>
              <li>â€¢ íŒ ì‹œë¦¬ì¦ˆ í…œí”Œë¦¿</li>
              <li>â€¢ 2ì£¼ ìº˜ë¦°ë”</li>
            </ul>
          </div>

          <div class="task-card bg-gradient-to-br from-red-50 to-orange-50 rounded-xl p-5">
            <div class="flex items-center gap-3 mb-3">
              <span class="text-2xl">ğŸ“º</span>
              <h4 class="font-semibold text-gray-800">YouTube</h4>
            </div>
            <ul class="text-sm text-gray-600 space-y-2">
              <li>â€¢ ì±„ë„ ìƒì„± ë° ì•„íŠ¸</li>
              <li>â€¢ ì„œë¹„ìŠ¤ ì†Œê°œ ì˜ìƒ (2ë¶„)</li>
              <li>â€¢ íŠœí† ë¦¬ì–¼ ì‹œë¦¬ì¦ˆ</li>
              <li>â€¢ Shorts ì½˜í…ì¸ </li>
            </ul>
          </div>

          <div class="task-card bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl p-5">
            <div class="flex items-center gap-3 mb-3">
              <span class="text-2xl">ğŸ“</span>
              <h4 class="font-semibold text-gray-800">ë¸”ë¡œê·¸/SEO</h4>
            </div>
            <ul class="text-sm text-gray-600 space-y-2">
              <li>â€¢ í‚¤ì›Œë“œ ë¦¬ì„œì¹˜</li>
              <li>â€¢ ë©”íƒ€ íƒœê·¸ ìµœì í™”</li>
              <li>â€¢ ëŸ°ì¹­ ì „/í›„ í¬ìŠ¤íŠ¸</li>
              <li>â€¢ ì§€ì—­ë³„ ê°€ì´ë“œ ì‹œë¦¬ì¦ˆ</li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <!-- ë§ˆì¼ìŠ¤í†¤ -->
    <section class="mb-12">
      <h2 class="text-xl font-bold text-gray-800 mb-6 flex items-center gap-2">
        <span class="text-2xl">ğŸ¯</span> ë§ˆì¼ìŠ¤í†¤
      </h2>

      <div class="bg-white rounded-2xl p-6 card-shadow overflow-x-auto">
        <table class="w-full text-sm">
          <thead>
            <tr class="border-b-2 border-gray-200">
              <th class="text-left py-3 px-4">ë§ˆì¼ìŠ¤í†¤</th>
              <th class="text-left py-3 px-4">ëª©í‘œ</th>
              <th class="text-left py-3 px-4">ë‹´ë‹¹</th>
              <th class="text-left py-3 px-4">ì£¼ìš” ì™„ë£Œ í•­ëª©</th>
            </tr>
          </thead>
          <tbody>
            <tr class="border-b border-gray-100">
              <td class="py-3 px-4 font-bold">M1</td>
              <td class="py-3 px-4">MVP ì…ë ¥ ê¸°ëŠ¥</td>
              <td class="py-3 px-4">
                <span class="text-devA">A</span> + <span class="text-devB">B</span> + <span class="text-devC">C</span>
              </td>
              <td class="py-3 px-4 text-gray-600">ì—¬í–‰ ìƒì„±, ì¥ì†Œ ì¶”ê°€, ì§€ë„ í‘œì‹œ</td>
            </tr>
            <tr class="border-b border-gray-100">
              <td class="py-3 px-4 font-bold">M2</td>
              <td class="py-3 px-4">ìµœì í™” ì—”ì§„</td>
              <td class="py-3 px-4">
                <span class="text-devB">B</span> + <span class="text-devC">C</span>
              </td>
              <td class="py-3 px-4 text-gray-600">TSP ì•Œê³ ë¦¬ì¦˜, ì¼ì ë¶„ë°°, ê²½ë¡œ ì¡°íšŒ</td>
            </tr>
            <tr class="border-b border-gray-100">
              <td class="py-3 px-4 font-bold">M3</td>
              <td class="py-3 px-4">ê²°ê³¼ & ì €ì¥</td>
              <td class="py-3 px-4">
                <span class="text-devA">A</span> + <span class="text-devB">B</span>
              </td>
              <td class="py-3 px-4 text-gray-600">ì¼ì •í‘œ UI, ë§ˆì´í˜ì´ì§€, ì €ì¥ ê¸°ëŠ¥</td>
            </tr>
            <tr class="border-b border-gray-100">
              <td class="py-3 px-4 font-bold">M4</td>
              <td class="py-3 px-4">ë„¤ë¹„ê²Œì´ì…˜</td>
              <td class="py-3 px-4">
                <span class="text-devC">C</span>
              </td>
              <td class="py-3 px-4 text-gray-600">í˜„ì¬ ìœ„ì¹˜, ê²½ë¡œ ì•ˆë‚´, ì•± ì—°ë™</td>
            </tr>
            <tr class="border-b border-gray-100">
              <td class="py-3 px-4 font-bold">M5</td>
              <td class="py-3 px-4">ë§ˆì¼€íŒ… ì¤€ë¹„</td>
              <td class="py-3 px-4">
                <span class="text-devC">C</span>
              </td>
              <td class="py-3 px-4 text-gray-600">ë¸Œëœë“œ ì—ì…‹, SNS ê³„ì •, ì½˜í…ì¸  ì œì‘</td>
            </tr>
            <tr>
              <td class="py-3 px-4 font-bold">M6</td>
              <td class="py-3 px-4">ëŸ°ì¹­</td>
              <td class="py-3 px-4">
                <span class="text-devA">A</span> + <span class="text-devB">B</span> + <span class="text-devC">C</span>
              </td>
              <td class="py-3 px-4 text-gray-600">ì„œë¹„ìŠ¤ ì˜¤í”ˆ, ëŸ°ì¹­ ìº í˜ì¸, ëª¨ë‹ˆí„°ë§</td>
            </tr>
          </tbody>
        </table>
      </div>
    </section>

  </main>

  <!-- Footer -->
  <footer class="bg-gray-900 text-white py-8">
    <div class="max-w-7xl mx-auto px-4 text-center">
      <p class="text-gray-400 text-sm">OurRoad ê°œë°œ TODO ê°€ì´ë“œ</p>
      <div class="flex justify-center gap-4 mt-4 text-xs text-gray-500">
        <a href="./index.html" class="hover:text-gray-300">PRD ì‹œê°í™”</a>
        <span>â€¢</span>
        <a href="../PRD.md" class="hover:text-gray-300">PRD.md</a>
        <span>â€¢</span>
        <a href="../TODO.md" class="hover:text-gray-300">TODO.md</a>
      </div>
    </div>
  </footer>

  <script>
    // Mermaid ì´ˆê¸°í™”
    mermaid.initialize({
      startOnLoad: true,
      theme: 'neutral',
      gitGraph: {
        showCommitLabel: true,
        mainBranchName: 'main'
      }
    });

    // ì„¹ì…˜ í•„í„°ë§
    function showSection(section) {
      const allSections = document.querySelectorAll('.dev-section');
      const tabs = document.querySelectorAll('.nav-tab');

      // íƒ­ ìŠ¤íƒ€ì¼ ì—…ë°ì´íŠ¸
      tabs.forEach(tab => {
        tab.classList.remove('active', 'bg-blue-500', 'text-white');
        if (tab.id === `tab-${section}`) {
          tab.classList.add('active');
        }
      });

      // ì„¹ì…˜ í‘œì‹œ/ìˆ¨ê¹€
      if (section === 'all') {
        allSections.forEach(s => s.style.display = 'block');
      } else {
        allSections.forEach(s => {
          if (s.id === `section-${section}`) {
            s.style.display = 'block';
          } else {
            s.style.display = 'none';
          }
        });
      }
    }

    // ì²´í¬ë°•ìŠ¤ ìƒíƒœ ì €ì¥ (localStorage)
    document.querySelectorAll('input[type="checkbox"]').forEach((checkbox, index) => {
      const key = `todo-${index}`;
      checkbox.checked = localStorage.getItem(key) === 'true';
      checkbox.addEventListener('change', () => {
        localStorage.setItem(key, checkbox.checked);
      });
    });
  </script>
</body>
</html>
